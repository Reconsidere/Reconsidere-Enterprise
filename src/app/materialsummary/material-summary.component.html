<app-toolbar></app-toolbar>

<div class="container">
  <div *ngIf="isBlocked">

    <button type="button" id="save" (click)="save()" mat-raised-button class="col-md-2 pull-right" color="primary">
      Salvar ações
    </button>

    agrupar pelo nome e trazer o valor total do lado somando tudo
    <br>
    agrupar por data
    <br>
    agrupar por entrada e saída

    nome - preço medio por material - preço total - entrada/ qtd em estoque

    <div class="tablePricing">
      <table class="table-sm">
        <thead>
          <tr id="Titles">
          </tr>
        </thead>
        <tbody>
          <ng-template ngFor let-item [ngForOf]="(entriesResult | paginate: { itemsPerPage: 5, currentPage: page })" let-igroup="index">
            <tr>
              <td>
                <div class="">
                  <div class="">
                    <div class="card bg-light mb-3 shadow  mb-5 bg-white rounded">
                      <div class="card-header">{{item.name}}</div>
                      <button *ngIf="!item.expand" (click)="closeOrExpand(item)" type="button" mat-raised-button color="accent"
                        class="input-group-text bg-primary border-primary text-white styleHeight" data-toggle="button" aria-pressed="false" autocomplete="off">
                        <mat-icon *ngIf="!item.expand">expand_more</mat-icon>
                        <mat-icon *ngIf="item.expand">expand_less</mat-icon>
                      </button>
                      <div *ngIf="item.expand" class="card-body">
                        <h5 class="card-title"></h5>
                        <div class="card-text">
                          <table class="">
                            <thead>
                              <tr id="">
                                <th>Em estoque</th>
                                <th>Peso</th>
                                <th>Preço médio</th>
                                <th>Preço total</th>
                                <th>Tipo </th>
                              </tr>
                            </thead>
                            <tbody>
                              <tr>
                                <td>
                                  <label>{{item.quantity}}</label>
                                </td>

                                <td>
                                  <label>{{item.weight}}</label>
                                </td>
                                <td>
                                  <label>{{item.average |currency:'BRL':'symbol':'2.2':allowZero: true}}</label>
                                </td>

                                <td>
                                  <label>{{item.total |currency:'BRL':'symbol':'2.2':allowZero: true}}</label>
                                </td>
                                <td>
                                    <label>{{item.typeEntrie}}</label>
                                  </td>
                              </tr>
                            </tbody>
                          </table>
                        </div>
                      </div>
                      <div class="card-body d-flex flex-column">
                        <button *ngIf="item.expand" (click)="closeOrExpand(item)" type="button" mat-raised-button color="accent"
                          class="align-self-end input-group-text bg-primary border-primary text-white styleHeight" data-toggle="button" aria-pressed="false" autocomplete="off">
                          <mat-icon *ngIf="!item.expand">expand_more</mat-icon>
                          <mat-icon *ngIf="item.expand">expand_less</mat-icon>
                        </button>
                      </div>
                    </div>
                  </div>
                </div>

              </td>
            </tr>

          </ng-template>
        </tbody>
        <pagination-controls (pageChange)="page = $event" previousLabel="Anterior" nextLabel="Próxima" autoHide="true" responsive="true" screenReaderPaginationLabel="Pagination"></pagination-controls>
      </table>
    </div>
  </div>

</div>
